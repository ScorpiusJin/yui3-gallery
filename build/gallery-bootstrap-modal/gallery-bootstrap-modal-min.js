YUI.add("gallery-bootstrap-modal",function(b){var l="contentBox",k="boundingBox",a="hide",m="in",d="header",f="body",j="footer",g="modal-",i=b.Lang,c=i.isFunction,e=b.namespace("Bootstrap");BootstrapPanel=b.Base.create("BootstrapPanel",b.Panel,[b.WidgetPosition,b.WidgetStdMod,b.WidgetAutohide,b.WidgetButtons,b.WidgetModality,b.WidgetPositionAlign,b.WidgetPositionConstrain,b.WidgetStack],{initializer:function(){this.bindUI();},bindUI:function(){this.after("visibleChange",this._visibleChangeFn,this);},_visibleChangeFn:function(n){if(n.newVal){this._show();}else{this._hide();}},_show:function(){var o=this.get(k),n=this.get(l);o.removeClass(a);o.addClass(m);n.removeClass(a);n.addClass(m);},_hide:function(){var n=this.get(k);n.addClass(a);n.removeClass(m);},show:function(){var n=this.get(l);n.removeClass("modal");n.removeClass("fade");n.setStyle("backgroundColor","#ffffff");this.set("visible",true);this.set("align",{node:null,points:[b.WidgetPositionAlign.CC,b.WidgetPositionAlign.CC]});if(this.transitionDone){this.transitionDone.detach();this.transitionDone=null;}},hide:function(n){this.set("align",{node:null,points:[b.WidgetPositionAlign.BC,b.WidgetPositionAlign.TC]});if(this.transitionDone){this.transitionDone.detach();this.transitionDone=null;}this.transitionDone=this.once("transitionDone",function(){this.set("visible",false);},this);},move:function(){var o=arguments,q=(i.isArray(o[0]))?o[0]:[o[0],o[1]],p=this.get(k),n=this;p.transition({duration:0.5,top:q[1]+"px",left:q[0]+"px"},function(){n.set("xy",q);n.fire("transitionDone");});},_findStdModSection:function(o){var n=this.get(l).one("> ."+g+o);return n;}},{HTML_PARSER:{headerContent:function(n){return this._parseStdModHTML(d);},bodyContent:function(n){return this._parseStdModHTML(f);},footerContent:function(n){return this._parseStdModHTML(j);},buttons:function(p){var n="button,.btn",q=["header","body","footer"],o=null;b.Array.each(q,function(u){var r=this.get(l).one("."+g+u),t=r&&r.all(n),s;if(!t||t.isEmpty()){return;}s=[];t.each(function(v){s.push({srcNode:v});});o||(o={});o[u]=s;},this);return o;}},SECTION_CLASS_NAMES:{header:g+d,body:g+f,footer:g+j},CLASS_NAMES:{button:"btn",primary:"btn-primary"},TEMPLATES:{header:'<div class="'+g+d+'"></div>',body:'<div class="'+g+f+'"></div>',footer:'<div class="'+g+j+'"></div>'}});function h(n){h.superclass.constructor.apply(this,arguments);}h.NAME="Bootstrap.Modal";h.NS="modal";b.extend(h,b.Plugin.Base,{defaults:{backdrop:"static",keyboard:true,visible:false,render:true,show:false,width:"560px",hideOn:[{eventName:"clickoutside"}]},initializer:function(p){this._node=p.host;this.config=b.mix(p,this.defaults);this.publish("show",{preventable:true,defaultFn:this.show});this.publish("hide",{preventable:true,defaultFn:this.hide});this.config.srcNode=this._node;this.config.centered=false;var o=b.ButtonCore.CLASS_NAMES.BUTTON;b.ButtonCore.CLASS_NAMES.BUTTON="btn";var n=this.panel=new BootstrapPanel(this.config);n.render();b.ButtonCore.CLASS_NAMES.BUTTON=o;n.get(k).delegate("click",function(s){var r=s.currentTarget,q=r.getData("dismiss");if(q&&q==="modal"){s.preventDefault();this.fire("hide");}},".btn",this);n.set("align",{node:null,points:[b.WidgetPositionAlign.TC,b.WidgetPositionAlign.BC]});if(this.config.show){this.fire("show");}},hide:function(n){this.panel.hide();},show:function(n){this.panel.show();}});e.Modal=h;},"@VERSION@",{requires:["panel","plugin","transition","event","event-delegate"]});